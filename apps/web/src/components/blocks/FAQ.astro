---
import GridDesign from '../GridDesign.astro'

interface FAQItem {
	question: string
	answer: string
}

interface Props {
	title?: string
	subtitle?: string
	fAQs?: FAQItem[]
	supportText?: string
	supportLinkLabel?: string
	supportLinkUrl?: string
	blockType: 'faq'
}

const {
	title = 'FAQs',
	subtitle = 'Your questions answered',
	fAQs: items = [
		{
			question: 'How long does shipping take?',
			answer:
				'Standard shipping takes 3-5 business days, depending on your location. Express shipping options are available at checkout for 1-2 business day delivery.',
		},
		{
			question: 'What payment methods do you accept?',
			answer:
				'We accept major credit cards, Apple Pay, Google Pay, and PayPal. For enterprise plans, we also support invoices and wire transfers.',
		},
		{
			question: 'Can I change or cancel my order?',
			answer:
				'Orders can be changed or canceled within 2 hours of placement. Contact support with your order number and we will assist you.',
		},
	],
	supportText = "Can't find what you're looking for? Contact our",
	supportLinkLabel = 'customer support team',
	supportLinkUrl = '#',
} = Astro.props
---

<section class="relative py-16 md:py-24">
	<GridDesign />
	<div class="relative z-10 mx-auto max-w-5xl px-6">
		<div class="grid gap-8 md:grid-cols-5 md:gap-12">
			<div class="md:col-span-2">
				<h2 class="text-foreground text-4xl font-title tracking-tight mb-4">
					{title}
				</h2>
				{
					subtitle && (
						<p class="text-muted-foreground mt-2 text-balance text-base leading-relaxed">
							{subtitle}
						</p>
					)
				}
				{
					supportText && supportLinkLabel && supportLinkUrl && (
						<div class="mt-8 hidden md:block">
							<div>
								<p class="text-sm text-muted-foreground">
									{supportText}{' '}
									<a
										class="text-primary font-medium hover:underline transition-colors"
										href={supportLinkUrl}
									>
										{supportLinkLabel}
									</a>
								</p>
							</div>
						</div>
					)
				}
			</div>
			<div class="md:col-span-3">
				<div class="bg-muted dark:bg-background p-1">
					<div
						class="bg-card ring-border shadow-sm ring-1 divide-y divide-border/50"
					>
						{
							items.map((faq, idx) => (
								<details class="group" open={idx === 0}>
									<summary class="flex cursor-pointer items-start justify-between gap-4 px-6 py-5 text-left font-medium outline-none text-base hover:bg-accent/5 transition-colors">
										<span class="text-card-foreground">{faq.question}</span>
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="20"
											height="20"
											viewBox="0 0 24 24"
											fill="none"
											stroke="currentColor"
											stroke-width="2"
											stroke-linecap="round"
											stroke-linejoin="round"
											class="text-muted-foreground pointer-events-none shrink-0 mt-0.5 transition-transform duration-200 group-open:rotate-180"
										>
											<path d="m6 9 6 6 6-6" />
										</svg>
									</summary>
									<div class="px-6 pb-5 text-sm text-muted-foreground leading-relaxed">
										{faq.answer}
									</div>
								</details>
							))
						}
					</div>
				</div>
			</div>
			{
				supportText && supportLinkLabel && supportLinkUrl && (
					<div class="md:hidden md:col-span-5">
						<div class="bg-muted dark:bg-background rounded-2xl p-1 mt-6">
							<div class="bg-card ring-border rounded-2lg p-5 shadow-sm ring-1">
								<p class="text-sm text-muted-foreground">
									{supportText}{' '}
									<a
										class="text-primary font-medium hover:underline transition-colors"
										href={supportLinkUrl}
									>
										{supportLinkLabel}
									</a>
								</p>
							</div>
						</div>
					</div>
				)
			}
		</div>
	</div>
</section>
